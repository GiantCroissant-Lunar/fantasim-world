using Riok.Mapperly.Abstractions;
using FantaSim.Geosphere.Plate.Datasets.Contracts.Generated;
using FantaSim.Geosphere.Plate.Datasets.Contracts.Manifest;

namespace FantaSim.Geosphere.Plate.Datasets.Contracts.Mapping;

/// <summary>
/// Mapper for PlatesDatasetManifest DTO ↔ Domain Model conversions.
/// Generated by Mapperly at compile-time.
/// </summary>
[Mapper]
public partial class PlatesDatasetManifestMapper
{
    public partial PlatesDatasetManifest ToDomain(PlatesDatasetManifestDto dto);
    public partial PlatesDatasetManifestDto ToDto(PlatesDatasetManifest domain);

    // Custom mapping for BodyShape enum (string in DTO → enum in Domain)
    [MapEnum(EnumMappingStrategy.ByName)]
    private static BodyShape MapBodyShape(string shape) =>
        Enum.Parse<BodyShape>(shape, ignoreCase: true);

    private static string MapBodyShape(BodyShape shape) => shape.ToString();
}
